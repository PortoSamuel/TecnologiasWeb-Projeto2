{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samuel Porto\\\\Desktop\\\\Semestres\\\\4\\xB0 Semestre\\\\TechWeb\\\\Parte2\\\\Projeto2.0\\\\client\\\\src\\\\components\\\\FirstPage.js\";\nimport React, { Component } from 'react';\n\nvar SpotifyWebApi = require('spotify-web-api-node');\n\nvar spotifyApi = new SpotifyWebApi({\n  clientId: 'ec764db0ded7495dadb967725e9ced59',\n  clientSecret: '5830e377db754d328989ab9cb47f8562',\n  redirectUri: 'http://www.example.com/callback'\n});\n\nclass FirstPage extends Component {\n  constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    this.state = {\n      access_token: params.access_token,\n      user_image: '',\n      user_name: ''\n    };\n    spotifyApi.setAccessToken(this.state.access_token);\n    this.getMe = this.getMe.bind(this);\n    this.getMe();\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  async getMe() {\n    await spotifyApi.getMe().then(data => {\n      console.log('Some information about the authenticated user', data.body);\n      this.setState({\n        user_image: data.body.images[0].url,\n        user_name: data.body.display_name\n      });\n    }, err => {\n      console.log('Erro getMe!', err);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"FirstPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.user_image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Bem vindo \", this.state.user_name, \"!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Suas m\\xFAsicas salvas:\"));\n  }\n\n}\n\n;\nexport default FirstPage;","map":{"version":3,"sources":["C:/Users/Samuel Porto/Desktop/Semestres/4° Semestre/TechWeb/Parte2/Projeto2.0/client/src/components/FirstPage.js"],"names":["React","Component","SpotifyWebApi","require","spotifyApi","clientId","clientSecret","redirectUri","FirstPage","constructor","props","params","getHashParams","state","access_token","user_image","user_name","setAccessToken","getMe","bind","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","then","data","console","log","body","setState","images","url","display_name","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;AAEA,IAAIC,aAAa,GAAGC,OAAO,CAAC,sBAAD,CAA3B;;AAEA,IAAIC,UAAU,GAAG,IAAIF,aAAJ,CAAkB;AAC/BG,EAAAA,QAAQ,EAAE,kCADqB;AAE/BC,EAAAA,YAAY,EAAE,kCAFiB;AAG/BC,EAAAA,WAAW,EAAE;AAHkB,CAAlB,CAAjB;;AAMA,MAAMC,SAAN,SAAwBP,SAAxB,CAAiC;AAC7BQ,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AAEA,UAAMC,MAAM,GAAG,KAAKC,aAAL,EAAf;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAGH,MAAM,CAACG,YADb;AAETC,MAAAA,UAAU,EAAE,EAFH;AAGTC,MAAAA,SAAS,EAAE;AAHF,KAAb;AAMAZ,IAAAA,UAAU,CAACa,cAAX,CAA0B,KAAKJ,KAAL,CAAWC,YAArC;AAEA,SAAKI,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKD,KAAL;AACH;;AAEDN,EAAAA,aAAa,GAAG;AACZ,QAAIQ,UAAU,GAAG,EAAjB;AACA,QAAIC,CAAJ;AAAA,QAAOC,CAAC,GAAG,sBAAX;AAAA,QACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR;;AAEA,WAAON,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAX,EAAsB;AAClBH,MAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACH;;AACD,WAAOD,UAAP;AACH;;AAED,QAAMF,KAAN,GAAc;AACV,UAAMd,UAAU,CAACc,KAAX,GACAY,IADA,CACOC,IAAD,IAAU;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,+CAAZ,EAA6DF,IAAI,CAACG,IAAlE;AACA,WAAKC,QAAL,CAAc;AAACpB,QAAAA,UAAU,EAACgB,IAAI,CAACG,IAAL,CAAUE,MAAV,CAAiB,CAAjB,EAAoBC,GAAhC;AAAqCrB,QAAAA,SAAS,EAACe,IAAI,CAACG,IAAL,CAAUI;AAAzD,OAAd;AAEH,KALA,EAKGC,GAAD,IAAU;AACTP,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BM,GAA3B;AACH,KAPA,CAAN;AAQF;;AAEFC,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAE,KAAK3B,KAAL,CAAWE,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAc,KAAKF,KAAL,CAAWG,SAAzB,MAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAJJ,CADJ;AAQH;;AAhD4B;;AAkDhC;AAED,eAAeR,SAAf","sourcesContent":["import React, {Component} from 'react';\r\n\r\nvar SpotifyWebApi = require('spotify-web-api-node');\r\n\r\nvar spotifyApi = new SpotifyWebApi({\r\n    clientId: 'ec764db0ded7495dadb967725e9ced59',\r\n    clientSecret: '5830e377db754d328989ab9cb47f8562',\r\n    redirectUri: 'http://www.example.com/callback'\r\n});\r\n\r\nclass FirstPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        const params = this.getHashParams();\r\n\r\n        this.state = {\r\n            access_token : params.access_token,\r\n            user_image: '',\r\n            user_name: ''\r\n        };\r\n\r\n        spotifyApi.setAccessToken(this.state.access_token);\r\n        \r\n        this.getMe = this.getMe.bind(this);\r\n        this.getMe();\r\n    }\r\n\r\n    getHashParams() {\r\n        var hashParams = {};\r\n        var e, r = /([^&;=]+)=?([^&;]*)/g,\r\n            q = window.location.hash.substring(1);\r\n        while (e = r.exec(q)) {\r\n            hashParams[e[1]] = decodeURIComponent(e[2]);\r\n        }\r\n        return hashParams;\r\n    }\r\n\r\n    async getMe() {\r\n        await spotifyApi.getMe()\r\n             .then( (data) => {\r\n                 console.log('Some information about the authenticated user', data.body);\r\n                 this.setState({user_image:data.body.images[0].url, user_name:data.body.display_name})\r\n\r\n             }, (err)  => {\r\n                 console.log('Erro getMe!', err);\r\n             });\r\n     };\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"FirstPage\">\r\n                <img src={this.state.user_image} ></img>\r\n                <p>Bem vindo {this.state.user_name}!</p>\r\n                <p></p>\r\n                <p>Suas músicas salvas:</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n};\r\n\r\nexport default FirstPage;"]},"metadata":{},"sourceType":"module"}