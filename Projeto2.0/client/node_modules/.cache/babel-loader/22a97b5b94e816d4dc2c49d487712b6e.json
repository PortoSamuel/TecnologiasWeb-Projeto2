{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samuel Porto\\\\Desktop\\\\Semestres\\\\4\\xB0 Semestre\\\\TechWeb\\\\Parte2\\\\Projeto2.0\\\\client\\\\src\\\\components\\\\FirstPage.js\";\nimport React, { Component } from 'react';\n\nvar SpotifyWebApi = require('spotify-web-api-node');\n\nclass FirstPage extends Component {\n  constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    console.log(params);\n    this.state = {\n      access_token: '',\n      client_id: '',\n      client_secret: '',\n      user_image: '',\n      user_name: ''\n    };\n    this.setState({\n      access_token: params.access_token,\n      client_id: params.client_id,\n      client_secret: params.client_secret\n    });\n    var spotifyApi = new SpotifyWebApi({\n      clientId: this.state.client_id,\n      clientSecret: this.state.client_secret,\n      redirectUri: 'http://www.example.com/callback'\n    });\n    spotifyApi.setAccessToken(this.access_token);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  async getMe() {\n    await this.spotifyApi.getMe().then(function (data) {\n      // console.log('Some information about the authenticated user', data.body);\n      this.setState({\n        user_image: data.body.images[0].url,\n        user_name: data.body.display_name\n      });\n      console.log(this.state);\n    }, function (err) {\n      console.log('Erro getMe!', err);\n    });\n  }\n\n  render() {\n    {\n      console.log(this.state.client_id);\n    }\n    return React.createElement(\"div\", {\n      className: \"FirstPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.user_image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Bem vindo \", this.user_name, \"!\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Suas m\\xFAsicas salvas:\"));\n  }\n\n}\n\n;\nexport default FirstPage;","map":{"version":3,"sources":["C:/Users/Samuel Porto/Desktop/Semestres/4° Semestre/TechWeb/Parte2/Projeto2.0/client/src/components/FirstPage.js"],"names":["React","Component","SpotifyWebApi","require","FirstPage","constructor","props","params","getHashParams","console","log","state","access_token","client_id","client_secret","user_image","user_name","setState","spotifyApi","clientId","clientSecret","redirectUri","setAccessToken","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getMe","then","data","body","images","url","display_name","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;AAEA,IAAIC,aAAa,GAAGC,OAAO,CAAC,sBAAD,CAA3B;;AAEA,MAAMC,SAAN,SAAwBH,SAAxB,CAAiC;AAC7BI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,UAAMC,MAAM,GAAG,KAAKC,aAAL,EAAf;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AAEA,SAAKI,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE,EADL;AAETC,MAAAA,SAAS,EAAE,EAFF;AAGTC,MAAAA,aAAa,EAAE,EAHN;AAITC,MAAAA,UAAU,EAAE,EAJH;AAKTC,MAAAA,SAAS,EAAE;AALF,KAAb;AASA,SAAKC,QAAL,CAAc;AACVL,MAAAA,YAAY,EAAGL,MAAM,CAACK,YADZ;AAEVC,MAAAA,SAAS,EAAGN,MAAM,CAACM,SAFT;AAGVC,MAAAA,aAAa,EAAGP,MAAM,CAACO;AAHb,KAAd;AAMA,QAAII,UAAU,GAAG,IAAIhB,aAAJ,CAAkB;AAC/BiB,MAAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWE,SADU;AAE/BO,MAAAA,YAAY,EAAE,KAAKT,KAAL,CAAWG,aAFM;AAG/BO,MAAAA,WAAW,EAAE;AAHkB,KAAlB,CAAjB;AAMAH,IAAAA,UAAU,CAACI,cAAX,CAA0B,KAAKV,YAA/B;AACH;;AAGDJ,EAAAA,aAAa,GAAG;AACZ,QAAIe,UAAU,GAAG,EAAjB;AACA,QAAIC,CAAJ;AAAA,QAAOC,CAAC,GAAG,sBAAX;AAAA,QACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR;;AAEA,WAAON,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAX,EAAsB;AAClBH,MAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACH;;AACD,WAAOD,UAAP;AACH;;AAED,QAAMU,KAAN,GAAc;AACV,UAAM,KAAKf,UAAL,CAAgBe,KAAhB,GACAC,IADA,CACK,UAAUC,IAAV,EAAgB;AAClB;AACA,WAAKlB,QAAL,CAAc;AAACF,QAAAA,UAAU,EAACoB,IAAI,CAACC,IAAL,CAAUC,MAAV,CAAiB,CAAjB,EAAoBC,GAAhC;AAAqCtB,QAAAA,SAAS,EAACmB,IAAI,CAACC,IAAL,CAAUG;AAAzD,OAAd;AACA9B,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AAEH,KANA,EAME,UAAU6B,GAAV,EAAe;AACd/B,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B8B,GAA3B;AACH,KARA,CAAN;AASF;;AAEFC,EAAAA,MAAM,GAAE;AACJ;AAAChC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWE,SAAvB;AAAkC;AACnC,WACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAE,KAAKE,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAc,KAAKC,SAAnB,MAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAJJ,CADJ;AAQH;;AAhE4B;;AAkEhC;AAED,eAAeZ,SAAf","sourcesContent":["import React, {Component} from 'react';\r\n\r\nvar SpotifyWebApi = require('spotify-web-api-node');\r\n\r\nclass FirstPage extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        const params = this.getHashParams();\r\n\r\n        console.log(params);\r\n\r\n        this.state = {\r\n            access_token: '',\r\n            client_id: '',\r\n            client_secret: '',\r\n            user_image: '',\r\n            user_name: ''\r\n        }\r\n\r\n        \r\n        this.setState({\r\n            access_token : params.access_token,\r\n            client_id : params.client_id,\r\n            client_secret : params.client_secret,\r\n        })\r\n\r\n        var spotifyApi = new SpotifyWebApi({\r\n            clientId: this.state.client_id,\r\n            clientSecret: this.state.client_secret,\r\n            redirectUri: 'http://www.example.com/callback'\r\n        });\r\n\r\n        spotifyApi.setAccessToken(this.access_token);\r\n    }\r\n\r\n\r\n    getHashParams() {\r\n        var hashParams = {};\r\n        var e, r = /([^&;=]+)=?([^&;]*)/g,\r\n            q = window.location.hash.substring(1);\r\n        while (e = r.exec(q)) {\r\n            hashParams[e[1]] = decodeURIComponent(e[2]);\r\n        }\r\n        return hashParams;\r\n    }\r\n\r\n    async getMe() {\r\n        await this.spotifyApi.getMe()\r\n             .then(function (data) {\r\n                 // console.log('Some information about the authenticated user', data.body);\r\n                 this.setState({user_image:data.body.images[0].url, user_name:data.body.display_name})\r\n                 console.log(this.state);\r\n                 \r\n             }, function (err) {\r\n                 console.log('Erro getMe!', err);\r\n             });\r\n     };\r\n\r\n    render(){\r\n        {console.log(this.state.client_id)}\r\n        return(\r\n            <div className=\"FirstPage\">\r\n                <img src={this.user_image} ></img>\r\n                <p>Bem vindo {this.user_name}!</p>\r\n                <p></p>\r\n                <p>Suas músicas salvas:</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n};\r\n\r\nexport default FirstPage;"]},"metadata":{},"sourceType":"module"}